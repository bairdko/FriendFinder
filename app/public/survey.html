<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Friend Finder</title>

    <!--Bootstrap-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" 
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
  <div class = "container">

    <div class = "row">
        <!--filler row-->
        <br/>
    </div>

    <div class = "row">
      <h1>Survey Questions</h1>
    </div>

    <hr/>

    <form>
      <div class = "form-group">
        <label for="name">Name</label>
        <input type="text" class = "form-control" id = "name" placeholder = "Enter Name (Required)">
      </div>

      <div class = "form-group">
          <label for="photo">Link to Photo Image</label>
          <input type="text" class = "form-control" id = "photo" placeholder = "Enter URL (Required)">
      </div>
    
      <hr/>

      <h3>Question 1</h3>
      <p>Your mind is always buzzing with unexplored ideas and plans.</p>
      <select class = "form-control" id = "q1">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 2</h3>
      <p>Generally speaking, you rely more on your experience than your imagination.</p>
      <select class = "form-control" id = "q2">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 3</h3>
      <p>You find it easy to stay relaxed and focused even when there is some pressure.</p>
      <select class = "form-control" id = "q3">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 4</h3>
      <p>You rarely do something just out of sheer curiosity.</p>
      <select class = "form-control" id = "q4">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 5</h3>
      <p>People can rarely upset you.</p>
      <select class = "form-control" id = "q5">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 6</h3>
      <p>It is often difficult for you to relate to other people's feelings.</p>
      <select class = "form-control" id = "q6">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 7</h3>
      <p>In a discussion, truth should be more important than people's sensitivities.</p>
      <select class = "form-control" id = "q7">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 8</h3>
      <p>You rarely get carried away by fantasies and ideas.</p>
      <select class = "form-control" id = "q8">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 9</h3>
      <p>YOu think that everyone's views should be respected regardless of whether they are supported by factors or not.</p>
      <select class = "form-control" id = "q9">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>
      <br/>

      <h3>Question 10</h3>
      <p>You feel more energetic after spending time with a group of people.</p>
      <select class = "form-control" id = "q10">
        <option selected>Choose an option</option>
        <option value = "1">Strongly Disagree</option>
        <option value = "2">Disagree</option>
        <option value = "3">Neutral</option>
        <option value = "4">Agree</option>
        <option value = "5">Strongly Agree</option>
      </select>

      <br/>

      <button type= "Submit" class = "btn btn-primary" id = "submit">Find my friend!</button>
      

    </form>


  <!--end container-->  
  </div>
  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script>

    function dataEntered(){
      var isTrue = true;
      if(name === ""){
        isTrue = false;
      }
      if(url === ""){
        isTrue = false;
      }

      $(".form-control").each(function(){

        if($(this).val() === "Choose an option"){
          isTrue = false;
        }
      });

      return isTrue;
    };

    var getInfo = $(document).on("click","#submit",function(){

      var name = $("#name").val();
      var url = $("#photo").val();

      var canContinue = dataEntered();

      if(canContinue){
        var sum = (parseInt($("#q1").val()) + 
                  parseInt($("#q2").val()) + 
                  parseInt($("#q3").val()) + 
                  parseInt($("#q4").val()) + 
                  parseInt($("#q5").val()) + 
                  parseInt($("#q6").val()) + 
                  parseInt($("#q7").val()) + 
                  parseInt($("#q8").val()) + 
                  parseInt($("#q9").val()) + 
                  parseInt($("#q10").val()));
        
        var arr = {name: name,
                  url: url,
                  score: sum};

        return arr;

      }
      else{
        console.log(name);
        console.log(url)
        alert("Please enter data into all fields!");
      }
    });

    $.post("/api/friends",getInfo,function(data){
      //do some stuff
    })

  

  </script>
</body>
</html>